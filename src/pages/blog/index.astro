---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';
import { ArrowLeft } from 'lucide-react';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title="Blog | Luke Pitstick">
	<main class="max-w-4xl mx-auto px-4 py-20 relative z-10">
        <div class="mb-12">
            <a href="/" class="inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition-colors group">
                <ArrowLeft size={20} className="group-hover:-translate-x-1 transition-transform" />
                Back to Home
            </a>
            <h1 class="text-5xl font-bold mb-4">Writing</h1>
            <p class="text-xl text-gray-400">Thoughts on development, data science, and policy.</p>
        </div>

		<section class="grid gap-8">
			{
				posts.map((post) => (
					<a href={`/blog/${post.slug}/`} class="group block p-8 rounded-3xl glass hover:bg-white/5 transition-all hover:scale-[1.02]">
                        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4">
						    <h2 class="text-2xl font-bold group-hover:text-violet-400 transition-colors">{post.data.title}</h2>
                            <p class="text-sm text-gray-500 font-mono">
                                {post.data.pubDate.toLocaleDateString('en-us', {
                                    year: 'numeric',
                                    month: 'short',
                                    day: 'numeric',
                                })}
                            </p>
                        </div>
                        <p class="text-gray-400 leading-relaxed">{post.data.description}</p>
					</a>
				))
			}
		</section>
	</main>
</Layout>
